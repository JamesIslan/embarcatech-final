#include "hardware/pwm.h"
#include "pico/stdlib.h"
#include <stdio.h>

// Configuração do pino do buzzer
#define BUZZER_PIN 21

// Notas musicais para a música tema de Star Wars
static const uint buzzer_notes[] = {
  330, 330, 330, 262, 392, 523, 330, 262,
  392, 523, 330, 659, 659, 659, 698, 523,
  415, 349, 330, 262, 392, 523, 330, 262,
  392, 523, 330, 659, 659, 659, 698, 523,
  415, 349, 330, 523, 494, 440, 392, 330,
  659, 784, 659, 523, 494, 440, 392, 330,
  659, 659, 330, 784, 880, 698, 784, 659,
  523, 494, 440, 392, 659, 784, 659, 523,
  494, 440, 392, 330, 659, 523, 659, 262,
  330, 294, 247, 262, 220, 262, 330, 262,
  330, 294, 247, 262, 330, 392, 523, 440,
  349, 330, 659, 784, 659, 523, 494, 440,
  392, 659, 784, 659, 523, 494, 440, 392};

// Duração das notas em milissegundos
static const uint note_duration[] = {
  500,
  500,
  500,
  350,
  150,
  300,
  500,
  350,
  150,
  300,
  500,
  500,
  500,
  500,
  350,
  150,
  300,
  500,
  500,
  350,
  150,
  300,
  500,
  350,
  150,
  300,
  650,
  500,
  150,
  300,
  500,
  350,
  150,
  300,
  500,
  150,
  300,
  500,
  350,
  150,
  300,
  650,
  500,
  350,
  150,
  300,
  500,
  350,
  150,
  300,
  500,
  500,
  500,
  500,
  350,
  150,
  300,
  500,
  500,
  350,
  150,
  300,
  500,
  350,
  150,
  300,
  500,
  350,
  150,
  300,
  500,
  500,
  350,
  150,
  300,
  500,
  500,
  350,
  150,
  300,
};

extern void pwm_init_buzzer(uint pin);
extern void play_tone(uint pin, uint frequency, uint duration_ms);
extern void play_star_wars(uint pin);
extern int run_buzzer();
